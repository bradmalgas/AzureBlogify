# A minimal pipeline that provisions a static web app


trigger:
- none

variables:
   ARM_Connection: $(azureResourceManagerConnection)
   sub_Id: $(subcriptionId)

pool: Default

stages:
- stage: ProvisionStaticWebApp
  jobs:
  - job: ProvisionStaticWebApp
    displayName: Provision Static Web App for Front-end
    steps:
    - task: AzureResourceManagerTemplateDeployment@3
      inputs:
        deploymentScope: 'Resource Group'
        azureResourceManagerConnection: '$(ARM_Connection)'
        subscriptionId: '$(sub_Id)'
        action: 'Create Or Update Resource Group'
        resourceGroupName: 'AzureBlogify'
        location: 'West Europe'
        templateLocation: 'Linked artifact'
        csmFile: './azuredeploy.json'
        csmParametersFile: './azuredeploy.parameters.json'
        deploymentMode: 'Incremental'
        deploymentName: 'ProvisionStaticWebApp'